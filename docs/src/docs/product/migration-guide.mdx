---
title: Migration guide
---

## Command `migrate`

You can use `golangci-lint` to migrate your configuration with the `migrate` command:

```bash
golangci-lint migrate
```

Be aware that **comments inside a configuration file are not migrated.** You need to add them manually after the migration.

**Deprecated options from v1 or unknown fields are not migrated.**

The migration file format is based on the extension of the [configuration file](/usage/configuration/#config-file).
The format can be overridden by using the `--format` flag:

```bash
golangci-lint migrate --format json
```

Before the migration, the previous configuration file is copied and saved to a file named `<config_file_name>.bck.<config_file_extension>`.

By default, before the migration process, the configuration file is validated against the JSON Schema of configuration v1.
If you want to skip this validation, you can use the `--skip-validation` flag:

```bash
golangci-lint migrate --skip-validation
```

The `migrate` command enforces the following default values:

- `run.timeout`: the existing value is ignored because, in v2, there is no timeout by default.
- `issues.show-stats`: the existing value is ignored because, in v2, stats are enabled by default.
- `run.concurrency`: if the existing value was `0`, it is removed as `0` is the new default.
- `run.relative-path-mode`: if the existing value was `cfg`, it is removed as `cfg` is the new default.

`issues.exclude-generated` has a new default value (v1 `lax`, v2 `strict`), so this field will be added during the migration to maintain the previous behavior.

`issues.exclude-dirs-use-default` has been removed, so it is converted to `linters.exclusions.paths` and, if needed, `formatters.exclusions.paths`.

Other fields explicitly defined in the configuration file are migrated even if the value is the same as the default value.

```txt
Migrate configuration file from v1 to v2

Usage:
  golangci-lint migrate [flags]

Flags:
  -c, --config PATH       Read config from file path PATH
      --no-config         Don't read config file
      --format string     Output file format.
                          By default, the format of the input configuration file is used.
                          It can be 'yml', 'yaml', 'toml', or 'json'.
      --skip-validation   Skip validation of the configuration file against the JSON Schema for v1.

Global Flags:
  -h, --help           Help for a command

```

## Changes

### `issues`

#### `issues.exclude-case-sensitive`

`issues.exclude`, `issues.exclude-rules.text`, and `issues.exclude-rules.source` are case-sensitive by default.

To ignore case, use `(?i)` at the beginning of a regex syntax.

<details>
  <summary>v1</summary>

```yaml
issues:
  exclude-case-sensitive: false
    exclude:
      - 'abcdef'
```

</details>

<details>
  <summary>v2</summary>

```yaml
linters:
  exclusions:
    rules:
    - path: '(.+)\.go$'
      text: (?i)abcdef
```

</details>

#### `issues.exclude-dirs-use-default`

<details>
  <summary>v1</summary>

```yaml
issues:
  exclude-dirs-use-default: true
```

</details>

<details>
  <summary>v2</summary>

```yaml
linters:
  exclusions:
    paths:
      - third_party$
      - builtin$
      - examples$
```

</details>
