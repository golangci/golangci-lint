{{- /*
Compares two versions.

@param {string} a Version A
@param {string} b Version B
@returns {int} -1 if a < b, 0 if a == b, 1 if a > b

@example {{ partial "compare-versions.html" (dict "a" "v1.2.3" "b" "v1.2.4") }}
*/ -}}

{{- $aVersion := path.Dir (replace .a "." "/") -}}
{{- $bVersion := path.Dir (replace .b "." "/") -}}

{{- $result := 0 -}}
{{- if (lt $aVersion $bVersion) -}}
  {{- $result = -1 -}}
{{- end -}}
{{- if (gt $aVersion $bVersion) -}}
  {{- $result = 1 -}}
{{- end -}}
{{- return $result -}}
